(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{35:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},45:function(e,t,c){},47:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(4),o=c.n(r),s=c(9),i=c(3),j=c(5),u=c(10),l=c.n(u);var b={fetchImages:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("20958387-96a830a6962a2a719bbaccdc5","&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("There are no images corresponding to ".concat(e)))}))}},m=(c(35),c(1));function h(e){var t=e.onSubmit,c=Object(n.useState)(""),a=Object(i.a)(c,2),r=a[0],o=a[1];return Object(m.jsx)("header",{className:"Searchbar",children:Object(m.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):j.b.error("Enter your search query!")},children:[Object(m.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(m.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(m.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"searchTerm",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}c(37);function d(e){var t=e.tags,c=e.webformatURL,n=e.onShowLargeImage;return Object(m.jsx)("li",{className:"ImageGalleryItem",children:Object(m.jsx)("img",{src:c,alt:t,className:"ImageGalleryItem-image",onClick:n})})}c(38);function O(e){var t=e.images,c=e.onShowLargeImage,n=function(e){c(e)};return Object(m.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,c=e.tags,a=e.webformatURL,r=e.largeImageURL;return Object(m.jsx)(d,{tags:c,webformatURL:a,onShowLargeImage:function(){return n(r)}},t)}))})}c(39);function f(e){var t=e.fetchImages;return Object(m.jsx)("button",{type:"button",className:"load-more-btn",onClick:t,children:"Load more"})}c(40);var g=document.querySelector("#modal-root");function x(e){var t=e.onClose,c=e.children;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(r.createPortal)(Object(m.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(m.jsx)("div",{className:"Modal",children:c})}),g)}c(41);var p=function(e){var t=e.children;return Object(m.jsx)("div",{className:"Container",children:t})},v=c.p+"static/media/error-image_640.8361ac15.jpeg";function S(e){var t=e.message;return Object(m.jsxs)("div",{role:"alert",children:[Object(m.jsx)("img",{src:v,width:"240",alt:"sad-emoji"}),Object(m.jsx)("p",{children:t})]})}c(42),c(43),c(44);var w="idle",y="pending",I="resolved",C="rejected";function L(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),o=Object(i.a)(r,2),u=o[0],d=o[1],g=Object(n.useState)(1),v=Object(i.a)(g,2),L=v[0],N=v[1],k=Object(n.useState)(!1),E=Object(i.a)(k,2),F=E[0],T=E[1],R=Object(n.useState)(""),U=Object(i.a)(R,2),q=U[0],G=U[1],P=Object(n.useState)(null),_=Object(i.a)(P,2),B=_[0],J=_[1],M=Object(n.useState)(w),z=Object(i.a)(M,2),D=z[0],H=z[1],A=function(){b.fetchImages(c,L).then((function(e){var t=e.hits;d([].concat(Object(s.a)(u),Object(s.a)(t))),N(L+1),H(I),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){J(e),H(C)}))};Object(n.useEffect)((function(){c&&(H(y),A())}),[c]);var K=function(e){a(e),d([]),N(1),J(null)},Q=function(){T(!F)};return D===w?Object(m.jsxs)(p,{children:[Object(m.jsx)(h,{onSubmit:K}),Object(m.jsx)(j.a,{autoClose:3e3})]}):D===y?Object(m.jsxs)(p,{children:[Object(m.jsx)(h,{onSubmit:K}),Object(m.jsx)(l.a,{type:"Puff",color:"#00BFFF",height:100,width:100})]}):D===C?Object(m.jsxs)(p,{children:[Object(m.jsx)(h,{onSubmit:K}),Object(m.jsx)(S,{message:B.message}),Object(m.jsx)(j.a,{autoClose:3e3})]}):D===I?Object(m.jsxs)(p,{children:[Object(m.jsx)(h,{onSubmit:K}),Object(m.jsx)(O,{images:u,onShowLargeImage:function(e){G(e),Q()}}),u.length>0&&Object(m.jsx)(f,{fetchImages:A}),F&&Object(m.jsx)(x,{onClose:Q,children:Object(m.jsx)("img",{src:q,alt:""})}),Object(m.jsx)(j.a,{autoClose:3e3})]}):void 0}c(45),c(46);o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(L,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.ce973352.chunk.js.map