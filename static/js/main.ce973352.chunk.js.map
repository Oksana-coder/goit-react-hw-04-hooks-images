{"version":3,"sources":["services/images-api.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Container/Container.js","components/ErrorView/error-image_640.jpeg","components/ErrorView/ErrorView.js","App.js","index.js"],"names":["api","fetchImages","searchTerm","pageNumber","fetch","then","response","ok","json","Promise","reject","Error","Searchbar","onSubmit","useState","setSearchTerm","className","event","preventDefault","trim","toast","error","type","autoComplete","autoFocus","placeholder","name","value","onChange","currentTarget","toLowerCase","ImageGalleryItem","tags","webformatURL","onShowLargeImage","src","alt","onClick","ImageGallery","images","showLargeImage","path","map","id","largeImageURL","Button","modalRoot","document","querySelector","Modal","onClose","children","useEffect","handleKeydown","code","window","addEventListener","removeEventListener","createPortal","target","Container","ErrorView","message","role","errorImage","width","Status","App","setImages","setPageNumber","showModal","setShowModal","largeImage","setLargeImage","setError","status","setStatus","imagesAPI","hits","scrollTo","top","documentElement","scrollHeight","behavior","catch","handleFormSubmit","toggleModal","autoClose","color","height","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ce973352.chunk.js","sourcesContent":["function fetchImages(searchTerm, pageNumber) {\n  const key = '20958387-96a830a6962a2a719bbaccdc5';\n    \n  return fetch(`https://pixabay.com/api/?q=${searchTerm}&page=${pageNumber}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(new Error(`There are no images corresponding to ${searchTerm}`));\n  });\n}\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;","import { useState } from 'react';\nimport './Searchbar.scss';\nimport { toast } from 'react-toastify';\n\nexport default function Searchbar({ onSubmit }) {\n  const [searchTerm, setSearchTerm] = useState('');\n\n  const handleSearchTermChange = event => {\n    setSearchTerm(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (searchTerm.trim() === '') {\n      toast.error('Enter your search query!');\n      return;\n    }\n\n    onSubmit(searchTerm);\n    setSearchTerm('');\n  };\n\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            name=\"searchTerm\"\n            value={searchTerm}\n            onChange={handleSearchTermChange}\n          />\n        </form>\n      </header>\n    );\n  }","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./ImageGalleryItem.scss\";\n\nexport default function ImageGalleryItem({ tags, webformatURL, onShowLargeImage }) {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        src={webformatURL}\n        alt={tags}\n        className=\"ImageGalleryItem-image\"\n        onClick={onShowLargeImage}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  tags: PropTypes.string.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  onShowLargeImage: PropTypes.func.isRequired\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport \"./ImageGallery.scss\";\n\nexport default function ImageGallery({ images, onShowLargeImage }) {\n  const showLargeImage = path => {\n    onShowLargeImage(path);\n  };\n\n  return (\n    <ul className=\"ImageGallery\">\n      {images.map(({ id, tags, webformatURL, largeImageURL }) => (\n\n        <ImageGalleryItem\n          key={id}\n          tags={tags}\n          webformatURL={webformatURL}\n          onShowLargeImage={() => showLargeImage(largeImageURL)}\n        />\n    ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Button.scss\";\n\nexport default function Button({ fetchImages }) {\n  return (\n    <button type=\"button\" className=\"load-more-btn\" onClick={fetchImages}>\n      Load more\n    </button>\n  )\n};\n\nButton.propTypes = {\n  fetchImages: PropTypes.func.isRequired,\n};","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport './Modal.scss';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    const handleKeydown = event => {\n      if (event.code === 'Escape') {\n        onClose();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeydown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeydown);\n    };\n  }, [onClose]);\n\n  const handleBackdrop = event => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n    return createPortal(\n      <div className=\"Overlay\" onClick={handleBackdrop}>\n        <div className=\"Modal\">\n          {children}\n        </div>\n      </div>,\n      modalRoot,\n    )\n  }","import React from 'react';\nimport './Container.scss';\n\nconst Container = ({ children }) => <div className=\"Container\">{children}</div>;\n\nexport default Container;","export default __webpack_public_path__ + \"static/media/error-image_640.8361ac15.jpeg\";","import errorImage from './error-image_640.jpeg';\nimport PropTypes from \"prop-types\";\n\nexport default function ErrorView({ message }) {\n  return (\n    <div role=\"alert\">\n      <img src={errorImage} width=\"240\" alt=\"sad-emoji\" />\n      <p>{message}</p>\n    </div>\n  );\n}\n\nErrorView.propTypes = {\n  message: PropTypes.string.isRequired\n};","import { useState, useEffect } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Loader from 'react-loader-spinner';\nimport imagesAPI from './services/images-api';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport Container from './components/Container';\nimport ErrorView from './components/ErrorView';\nimport './App.scss';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default function App() {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [images, setImages] = useState([]);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImage, setLargeImage] = useState('');\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n\n  const fetchImages = () => {\n\n    imagesAPI\n      .fetchImages(searchTerm, pageNumber)\n      .then(({ hits }) => {\n        setImages([...images, ...hits]);\n        setPageNumber(pageNumber + 1);\n        setStatus(Status.RESOLVED);\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => {\n        setError(error);\n        setStatus(Status.REJECTED);\n      })\n    }\n  \n  useEffect(() => {\n    if (!searchTerm) {\n      return;\n    }\n\n    setStatus(Status.PENDING);\n\n    fetchImages();   \n\n  }, [searchTerm]);\n \n  const handleFormSubmit = searchTerm => {\n    setSearchTerm(searchTerm);\n    setImages([]);\n    setPageNumber(1);\n    setError(null);\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const showLargeImage = path => {\n    setLargeImage(path);\n    toggleModal();\n  };\n\n    if (status === Status.IDLE) {\n      return (\n        <Container>\n          <Searchbar onSubmit={handleFormSubmit} />\n          <ToastContainer autoClose={3000} />\n        </Container>\n      )\n    }\n\n    if (status === Status.PENDING) {\n      return (\n        <Container>\n          <Searchbar onSubmit={handleFormSubmit} />\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n          />\n        </Container>\n      )\n    }\n\n    if (status === Status.REJECTED) {\n      return (\n        <Container>\n          <Searchbar onSubmit={handleFormSubmit} />\n          <ErrorView message={error.message} />\n          <ToastContainer autoClose={3000} />\n        </Container>\n      )\n    }\n\n    if (status === Status.RESOLVED) {\n      return (\n        <Container>\n          <Searchbar onSubmit={handleFormSubmit} />\n          <ImageGallery images={images} onShowLargeImage={showLargeImage} />\n           {images.length > 0 && <Button fetchImages={fetchImages}/>}\n           {showModal &&\n            <Modal onClose={toggleModal}>\n            <img src={largeImage} alt=\"\"/>\n            </Modal>}\n          <ToastContainer autoClose={3000} />\n        </Container>\n      )\n    }\n  }","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}